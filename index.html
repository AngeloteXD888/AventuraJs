<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Aventura en el Reino de JS</title>
  <link rel="stylesheet" href="./css/global.css">
  <link rel="stylesheet" href="./css/scene1.css">
  <link rel="stylesheet" href="./css/scene2.css">
  <link rel="stylesheet" href="./css/scene3.css">
  <link rel="stylesheet" href="./css/scene4.css">
  <link rel="stylesheet" href="./css/scene5.css">
  <link rel="stylesheet" href="./css/scene6.css">
  <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.6.0/dist/confetti.browser.min.js"></script>
</head>
<body>
  <header>
    <h1>Aventura en el Reino de JS</h1>
  </header>
  <main>
    <!-- ESCENA 1: INICIO -->
    <div id="scene-1" class="scene active">
      <div class="player-info">
        <img id="player-avatar" src="./img/avatar/Avatar.png" alt="Avatar del jugador">
        <h2 id="player-name">Crypto</h2>
      </div>
      <div class="stats-container">
        <div class="stat-box">
          <p id="stat-attack">Ataque: 0</p>
        </div>
        <div class="stat-box">
          <p id="stat-defense">Defensa: 0</p>
        </div>
        <div class="stat-box">
          <p id="stat-life">Vida: 100</p>
        </div>
      </div>
      <div class="button-container">
        <button id="btn-scene-1" class="btn-primary">Ir al Mercado</button>
      </div>
    </div>

    <!-- ESCENA 2: MERCADO -->
    <div id="scene-2" class="scene">
      <h2>Mercado</h2>
      <p id="discount-message" class="discount-banner"></p>
      
      <div id="product-container" class="product-grid">
        <!-- ARMAS -->
        <div class="product-card" data-nombre="Mozambique" data-tipo="Arma" data-rareza="Común" data-bonus="5" data-precio="500">
          <img src="./img/items/Mozambique.png" alt="Mozambique">
          <h3>Mozambique</h3>
          <p>Tipo: Arma</p>
          <p>Bonus: +<span class="bonus-value">5</span></p>
          <p>Rareza: <span class="rareza-value">Común</span></p>
          <p class="price"><span class="precio-value">5,00€</span></p>
          <button class="btn-add">Añadir</button>
        </div>

        <div class="product-card" data-nombre="Eva8" data-tipo="Arma" data-rareza="Rara" data-bonus="8" data-precio="800">
          <img src="./img/items/Eva8.png" alt="Eva8">
          <h3>Eva8</h3>
          <p>Tipo: Arma</p>
          <p>Bonus: +<span class="bonus-value">8</span></p>
          <p>Rareza: <span class="rareza-value">Rara</span></p>
          <p class="price"><span class="precio-value">8,00€</span></p>
          <button class="btn-add">Añadir</button>
        </div>

        <div class="product-card" data-nombre="R-301" data-tipo="Arma" data-rareza="Épica" data-bonus="12" data-precio="1200">
          <img src="./img/items/R-301.png" alt="R-301">
          <h3>R-301</h3>
          <p>Tipo: Arma</p>
          <p>Bonus: +<span class="bonus-value">12</span></p>
          <p>Rareza: <span class="rareza-value">Épica</span></p>
          <p class="price"><span class="precio-value">12,00€</span></p>
          <button class="btn-add">Añadir</button>
        </div>

        <div class="product-card" data-nombre="Reliquia" data-tipo="Arma" data-rareza="Legendaria" data-bonus="20" data-precio="2000">
          <img src="./img/items/Relquia.png" alt="Reliquia">
          <h3>Reliquia</h3>
          <p>Tipo: Arma</p>
          <p>Bonus: +<span class="bonus-value">20</span></p>
          <p>Rareza: <span class="rareza-value">Legendaria</span></p>
          <p class="price"><span class="precio-value">20,00€</span></p>
          <button class="btn-add">Añadir</button>
        </div>

        <!-- ARMADURAS -->
        <div class="product-card" data-nombre="Armadura Normal" data-tipo="Armadura" data-rareza="Común" data-bonus="4" data-precio="400">
          <img src="./img/items/Armadura_Común.png" alt="Armadura Normal">
          <h3>Armadura Normal</h3>
          <p>Tipo: Armadura</p>
          <p>Bonus: +<span class="bonus-value">4</span></p>
          <p>Rareza: <span class="rareza-value">Común</span></p>
          <p class="price"><span class="precio-value">4,00€</span></p>
          <button class="btn-add">Añadir</button>
        </div>

        <div class="product-card" data-nombre="Armadura Rara" data-tipo="Armadura" data-rareza="Rara" data-bonus="7" data-precio="700">
          <img src="./img/items/Armadura_Rara.png" alt="Armadura Rara">
          <h3>Armadura Rara</h3>
          <p>Tipo: Armadura</p>
          <p>Bonus: +<span class="bonus-value">7</span></p>
          <p>Rareza: <span class="rareza-value">Rara</span></p>
          <p class="price"><span class="precio-value">7,00€</span></p>
          <button class="btn-add">Añadir</button>
        </div>

        <div class="product-card" data-nombre="Armadura Épica" data-tipo="Armadura" data-rareza="Épica" data-bonus="10" data-precio="1000">
          <img src="./img/items/Armadura_Epica.png" alt="Armadura Épica">
          <h3>Armadura Épica</h3>
          <p>Tipo: Armadura</p>
          <p>Bonus: +<span class="bonus-value">10</span></p>
          <p>Rareza: <span class="rareza-value">Épica</span></p>
          <p class="price"><span class="precio-value">10,00€</span></p>
          <button class="btn-add">Añadir</button>
        </div>

        <div class="product-card" data-nombre="Armadura Legendaria" data-tipo="Armadura" data-rareza="Legendaria" data-bonus="18" data-precio="1800">
          <img src="./img/items/Armadura_Legendaria.png" alt="Armadura Legendaria">
          <h3>Armadura Legendaria</h3>
          <p>Tipo: Armadura</p>
          <p>Bonus: +<span class="bonus-value">18</span></p>
          <p>Rareza: <span class="rareza-value">Legendaria</span></p>
          <p class="price"><span class="precio-value">18,00€</span></p>
          <button class="btn-add">Añadir</button>
        </div>

        <!-- CONSUMIBLES -->
        <div class="product-card" data-nombre="Botiquin" data-tipo="Consumible" data-rareza="Común" data-bonus="10" data-precio="300">
          <img src="./img/items/Curacion.png" alt="Botiquin">
          <h3>Botiquin</h3>
          <p>Tipo: Consumible</p>
          <p>Bonus: +<span class="bonus-value">10</span></p>
          <p>Rareza: <span class="rareza-value">Común</span></p>
          <p class="price"><span class="precio-value">3,00€</span></p>
          <button class="btn-add">Añadir</button>
        </div>

        <div class="product-card" data-nombre="Baterias de escudo" data-tipo="Armadura" data-rareza="Común" data-bonus="10" data-precio="400">
          <img src="./img/items/Escudos.png" alt="Baterias de escudo">
          <h3>Baterias de escudo</h3>
          <p>Tipo: Armadura</p>
          <p>Bonus: +<span class="bonus-value">10</span></p>
          <p>Rareza: <span class="rareza-value">Común</span></p>
          <p class="price"><span class="precio-value">4,00€</span></p>
          <button class="btn-add">Añadir</button>
        </div>

        <div class="product-card" data-nombre="Kit-Fenix" data-tipo="Consumible" data-rareza="Legendaria" data-bonus="50" data-precio="1500">
          <img src="./img/items/Kit_Fenix.jpg" alt="Kit-Fenix">
          <h3>Kit-Fenix</h3>
          <p>Tipo: Consumible</p>
          <p>Bonus: +<span class="bonus-value">50</span></p>
          <p>Rareza: <span class="rareza-value">Legendaria</span></p>
          <p class="price"><span class="precio-value">15,00€</span></p>
          <button class="btn-add">Añadir</button>
        </div>
      </div>
      
      <h3>Cesta de compra:</h3>
      <div id="cart-container" class="cart-grid"></div>
      
      <div class="button-container">
        <button id="btn-scene-2" class="btn-primary">Continuar a la aventura</button>
      </div>
    </div>

    <!-- ESCENA 3: ESTADO ACTUALIZADO -->
    <div id="scene-3" class="scene">
      <h2>Tu equipo actualizado</h2>
      <div class="player-info">
        <img id="player-avatar-3" src="./img/avatar/Avatar.png" alt="Avatar del jugador">
        <h2 id="player-name-3">Paco</h2>
      </div>
      <div class="stats-container">
        <div class="stat-box">
          <p id="stat-attack-3">Ataque: 0</p>
        </div>
        <div class="stat-box">
          <p id="stat-defense-3">Defensa: 0</p>
        </div>
        <div class="stat-box">
          <p id="stat-life-3">Vida: 100</p>
        </div>
      </div>
      
      <h3>Inventario:</h3>
      <div id="inventory-display" class="inventory-grid"></div>
      
      <div class="button-container">
        <button id="btn-scene-3" class="btn-primary">Ver enemigos</button>
      </div>
    </div>

    <!-- ESCENA 4: ENEMIGOS -->
    <div id="scene-4" class="scene">
      <h2>Enemigos a enfrentar</h2>
      <div id="enemy-container" class="enemy-grid">
        
        <div class="enemy-card" data-nombre="Pathfinder" data-ataque="10" data-defensa="3" data-vida="50" data-es-jefe="false">
          <img src="./img/enemigos/Pathfinder.png" alt="Pathfinder">
          <h3>Pathfinder</h3>
          <p>Ataque: <span class="enemy-attack">7</span></p>
          <p>Defensa: <span class="enemy-defense">2</span></p>
          <p>Vida: <span class="enemy-life">50</span></p>
        </div>

        <div class="enemy-card" data-nombre="Octane" data-ataque="15" data-defensa="5" data-vida="70" data-es-jefe="false">
          <img src="./img/enemigos/Octane.png" alt="Octane">
          <h3>Octane</h3>
          <p>Ataque: <span class="enemy-attack">12</span></p>
          <p>Defensa: <span class="enemy-defense">4</span></p>
          <p>Vida: <span class="enemy-life">70</span></p>
        </div>

        <div class="enemy-card" data-nombre="Caustic" data-ataque="20" data-defensa="8" data-vida="90" data-es-jefe="false">
          <img src="./img/enemigos/Caustic.png" alt="Caustic">
          <h3>Caustic</h3>
          <p>Ataque: <span class="enemy-attack">15</span></p>
          <p>Defensa: <span class="enemy-defense">6</span></p>
          <p>Vida: <span class="enemy-life">90</span></p>
        </div>

        <div class="enemy-card" data-nombre="Revenant" data-ataque="30" data-defensa="12" data-vida="120" data-es-jefe="true" data-multiplicador="1.5">
          <img src="./img/enemigos/Revenant.png" alt="Revenant">
          <h3>Revenant <span style="color: var(--danger-color); font-weight: bold;">(JEFE)</span></h3>
          <p>Ataque: <span class="enemy-attack">25</span></p>
          <p>Defensa: <span class="enemy-defense">10</span></p>
          <p>Vida: <span class="enemy-life">120</span></p>
          <p>Multiplicador: x<span class="enemy-multiplier">1.5</span></p>
        </div>

      </div>
      <div class="button-container">
        <button id="btn-scene-4" class="btn-primary">¡Iniciar batallas!</button>
      </div>
    </div>

    <!-- ESCENA 5: BATALLA -->
<div id="scene-5" class="scene">
  <h2>Batalla</h2>
  
  <!-- Encabezado con nombre del enemigo -->
  <div class="battle-header">
    <h3>Enfrentando a: <span id="battle-enemy-name"></span></h3>
  </div>
  
  <!-- Combatientes con animaciones -->
  <div class="battle-fighters">
    <!-- Jugador (izquierda) -->
    <div class="fighter fighter-player">
      <img id="battle-player-avatar" src="./img/avatar/Avatar.png" alt="Jugador">
      <h4 id="battle-player-name">Crypto</h4>
      <div class="fighter-stats">
        <p>Ataque: <span id="battle-player-attack">0</span></p>
        <p>Defensa: <span id="battle-player-defense">0</span></p>
        <p>Vida: <span id="battle-player-life">100</span></p>
      </div>
    </div>
    
    <!-- VS -->
    <div class="battle-vs">VS</div>
    
    <!-- Enemigo (derecha) -->
    <div class="fighter fighter-enemy">
      <img id="battle-enemy-avatar" src="" alt="Enemigo">
      <h4 id="battle-enemy-name-display"></h4>
      <div class="fighter-stats">
        <p>Ataque: <span id="battle-enemy-attack">0</span></p>
        <p>Defensa: <span id="battle-enemy-defense">0</span></p>
        <p>Vida: <span id="battle-enemy-life">0</span></p>
      </div>
    </div>
  </div>
  
  <!-- Log de batalla -->
  <div id="battle-log" class="battle-log"></div>
  
  <!-- Resultado -->
  <div id="battle-result" class="battle-result"></div>
  
  <!-- Botón continuar -->
  <div class="button-container">
    <button id="btn-scene-5" class="btn-primary">Continuar</button>
  </div>
</div>

    <!-- ESCENA 6: FINAL -->
    <div id="scene-6" class="scene">
      <h2>¡Aventura completada!</h2>
      <div class="final-stats">
        <h3>Puntuación final:</h3>
        <p class="final-points"><span id="final-points">0</span> puntos</p>
        <h3>Rango:</h3>
        <p class="final-rank" id="final-rank">Novato</p>
      </div>
      <div class="button-container">
        <button id="btn-restart" class="btn-primary">Jugar de nuevo</button>
      </div>
    </div>
  </main>

  <footer>
    <div id="inventory-container" class="inventory-footer"></div>
  </footer>

  <script type="module" src="./js/main.js"></script>
</body>
</html>